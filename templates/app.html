<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Pocket Option Signals</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <style>
    body { 
      font-family: "Segoe UI", Arial, sans-serif; 
      background: linear-gradient(180deg, #f0f4f9, #dce3f0); 
      margin: 0; 
      padding: 0;
      color: #222;
    }
    .container {
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
      padding: 20px;
    }
    .card {
      background: #fff;
      border-radius: 16px;
      box-shadow: 0 8px 20px rgba(0,0,0,0.1);
      padding: 30px;
      max-width: 500px;
      width: 100%;
      text-align: center;
      animation: fadeIn 0.4s ease;
    }
    @keyframes fadeIn {
      from {opacity: 0; transform: translateY(10px);}
      to {opacity: 1; transform: translateY(0);}
    }
    h1 { margin: 10px 0; font-size: 26px; color: #2a2f45; }
    h2 { margin: 8px 0; font-size: 20px; font-weight: 500; color: #4c5673; }
    p { font-size: 16px; line-height: 1.5; margin: 8px 0; }

    button { 
      display: inline-block;
      background: linear-gradient(135deg, #007bff, #4da3ff);
      color: white; 
      border: none; 
      padding: 14px 28px; 
      border-radius: 10px; 
      font-size: 16px; 
      font-weight: bold;
      margin: 12px 6px;
      cursor: pointer;
      transition: transform 0.2s, box-shadow 0.2s;
    }
    button:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(0,123,255,0.3);
    }
    button.secondary {
      background: #f0f0f0;
      color: #333;
    }
    .info {
      font-size: 14px; 
      color: #555;
      margin-top: 4px;
    }
    ul {
      list-style: none;
      padding: 0;
      margin: 15px 0;
    }
    ul li {
      font-size: 15px;
      padding: 6px 0;
    }
  </style>
</head>
<body>
  <!-- ÐšÐ¾Ð½Ñ‚ÐµÐ¹Ð½ÐµÑ€ -->
  <div class="container">
    <!-- ÐšÐ°Ñ€Ñ‚Ð¾Ñ‡ÐºÐ¸ (ÑÑ‚Ñ€Ð°Ð½Ð¸Ñ†Ñ‹) -->
    <div class="card page active" id="page1">
      <h1 id="p1_title"></h1>
      <h2 id="p1_sub"></h2>
      <p id="p1_desc"></p>
      <p id="traders"></p>
      <p id="accuracy"></p>
      <p id="support"></p>
      <button onclick="nextPage(2)" id="startBtn"></button>
    </div>

    <div class="card page" id="page2">
      <button class="secondary" onclick="nextPage(1)" id="backBtn1"></button>
      <h1 id="vip_title"></h1>
      <h2>Pocket Option</h2>
      <p id="vip_desc"></p>
      <p id="vip_regular"></p>
      <p id="vip_signals"></p>
      <p id="vip_accuracy"></p>
      <button onclick="nextPage(3)" id="nextBtn1"></button>
    </div>

    <div class="card page" id="page3">
      <button class="secondary" onclick="nextPage(2)" id="backBtn2"></button>
      <h1 id="earn_title"></h1>
      <h2>Pocket Option</h2>
      <p id="earn_desc"></p>
      <p id="profit"></p>
      <p id="speed"></p>
      <button onclick="nextPage(4)" id="nextBtn2"></button>
    </div>

    <div class="card page" id="page4">
      <button class="secondary" onclick="nextPage(3)" id="backBtn3"></button>
      <h1 id="reg_title"></h1>
      <h2>Pocket Option</h2>
      <p id="reg_desc"></p>
      <ul>
        <li id="reg_li1"></li>
        <li id="reg_li2"></li>
        <li id="reg_li3"></li>
      </ul>
      <a href="https://pocketoption.com/ref/YOUR_REF_LINK" target="_blank">
        <button id="registerBtn"></button>
      </a>
    </div>

    <div class="card page" id="afterReg">
      <h1 id="after_reg_title"></h1>
      <p id="after_reg_desc"></p>
    </div>

    <div class="card page" id="afterDep">
      <h1 id="after_dep_title"></h1>
      <p id="after_dep_desc"></p>
      <p id="depositPoint"></p>
      <p id="after_dep_tip"></p>
      <p id="after_dep_tip2"></p>
      <button onclick="vipSignal()" id="vipBtn"></button>
      <p class="info" id="vip_info"></p>
      <button onclick="simpleSignal()" id="simpleBtn"></button>
      <p class="info" id="simple_info"></p>
    </div>

    <div class="card page" id="vipPage">
      <h1 id="vip_in_progress"></h1>
      <button class="secondary" onclick="nextPage('afterDep')" id="backBtnVip"></button>
    </div>

    <div class="card page" id="simpleSignalPage">
      <h1 id="simple_search"></h1>
      <p id="simple_prepare"></p>
      <button class="secondary" onclick="nextPage('afterDep')" id="backBtnSimple"></button>
    </div>
  </div>

  <!-- Ð¡ÐºÑ€Ð¸Ð¿Ñ‚Ñ‹ -->
  <script>
  // ==== Ð¢ÐµÐºÑÑ‚Ñ‹ Ð½Ð°Ð¿Ñ€ÑÐ¼ÑƒÑŽ ÑÐºÐ¾Ð¿Ð¸Ñ€Ð¾Ð²Ð°Ð½Ñ‹ Ð¸Ð· Ð¿Ñ€ÐµÐ´Ñ‹Ð´ÑƒÑ‰ÐµÐ³Ð¾ Ð²Ð°Ñ€Ð¸Ð°Ð½Ñ‚Ð° ====
  const TEXTS = {
    en: {
      p1_title: "Premium Signals",
      p1_sub: "Pocket Option",
      p1_desc: "Get accurate trading signals from professional analysts with up to 95% accuracy",
      traders: "ðŸ‘¥ 1000+ Traders",
      accuracy: "ðŸ“ˆ 95% Accuracy",
      support: "â° 24/7 Support",
      startBtn: "Start âž¡",
      back: "â¬… Back",
      next: "Next âž¡",
      vip_title: "VIP Status",
      vip_desc: "Exclusive signals, priority support, and access to an elite trading community",
      vip_regular: "Regular signals: 5â€“10/day",
      vip_signals: "VIP signals: 20+/day",
      vip_accuracy: "VIP accuracy: up to 95%",
      earn_title: "Start Earning",
      earn_desc: "Join thousands of traders and start getting profit today",
      profit: "Profit: up to 95%",
      speed: "Speed: 1â€“15 min.",
      startTrading: "Start Trading âž¡",
      reg_title: "Registration",
      reg_desc: "Register with a reliable broker to receive signals:",
      reg_li1: "âœ… Licensed broker",
      reg_li2: "âš¡ Fast payouts",
      reg_li3: "ðŸ’µ Minimum deposit $10",
      registerBtn: "Register âž¡",
      after_reg_title: "Awesome! ðŸš€",
      after_reg_desc: "Now make a deposit. Iâ€™ll check it ðŸ˜‰",
      after_dep_title: "Great! ðŸŽ‰",
      after_dep_desc: "Your deposit is credited.",
      after_dep_tip: "In 5â€“10 signals you can make Ã—3.3 from point A",
      after_dep_tip2: "Losses happen, but long-term youâ€™ll profit!",
      vipBtn: "ðŸ”¥ VIP Signal",
      vip_info: "VIP signals are the most reliable way to earn.",
      simpleBtn: "âš¡ Simple Signal",
      simple_info: "Youâ€™ll have 30s to prepare. Iâ€™ll send pair + direction.",
      vip_in_progress: "VIP section under construction ðŸ› ",
      simple_search: "Searching for signal â³",
      simple_prepare: "Prepare your platform, act fast!"
    },
    ru: {
      p1_title: "ÐŸÑ€ÐµÐ¼Ð¸ÑƒÐ¼ Ð¡Ð¸Ð³Ð½Ð°Ð»Ñ‹",
      p1_sub: "Pocket Option",
      p1_desc: "ÐŸÐ¾Ð»ÑƒÑ‡Ð°Ð¹ Ñ‚Ð¾Ñ€Ð³Ð¾Ð²Ñ‹Ðµ ÑÐ¸Ð³Ð½Ð°Ð»Ñ‹ Ð¾Ñ‚ Ð°Ð½Ð°Ð»Ð¸Ñ‚Ð¸ÐºÐ¾Ð² Ñ Ñ‚Ð¾Ñ‡Ð½Ð¾ÑÑ‚ÑŒÑŽ Ð´Ð¾ 95%",
      traders: "ðŸ‘¥ 1000+ Ð¢Ñ€ÐµÐ¹Ð´ÐµÑ€Ð¾Ð²",
      accuracy: "ðŸ“ˆ 95% Ð¢Ð¾Ñ‡Ð½Ð¾ÑÑ‚ÑŒ",
      support: "â° ÐŸÐ¾Ð´Ð´ÐµÑ€Ð¶ÐºÐ° 24/7",
      startBtn: "Ð¡Ñ‚Ð°Ñ€Ñ‚ âž¡",
      back: "â¬… ÐÐ°Ð·Ð°Ð´",
      next: "Ð”Ð°Ð»ÐµÐµ âž¡",
      vip_title: "VIP Ð¡Ñ‚Ð°Ñ‚ÑƒÑ",
      vip_desc: "Ð­ÐºÑÐºÐ»ÑŽÐ·Ð¸Ð²Ð½Ñ‹Ðµ ÑÐ¸Ð³Ð½Ð°Ð»Ñ‹, Ð¿Ñ€Ð¸Ð¾Ñ€Ð¸Ñ‚ÐµÑ‚Ð½Ð°Ñ Ð¿Ð¾Ð´Ð´ÐµÑ€Ð¶ÐºÐ° Ð¸ Ð·Ð°ÐºÑ€Ñ‹Ñ‚Ð¾Ðµ ÑÐ¾Ð¾Ð±Ñ‰ÐµÑÑ‚Ð²Ð¾",
      vip_regular: "ÐžÐ±Ñ‹Ñ‡Ð½Ñ‹Ðµ ÑÐ¸Ð³Ð½Ð°Ð»Ñ‹: 5â€“10/Ð´",
      vip_signals: "VIP ÑÐ¸Ð³Ð½Ð°Ð»Ñ‹: 20+/Ð´",
      vip_accuracy: "Ð¢Ð¾Ñ‡Ð½Ð¾ÑÑ‚ÑŒ VIP: Ð´Ð¾ 95%",
      earn_title: "ÐÐ°Ñ‡Ð½Ð¸ Ð—Ð°Ñ€Ð°Ð±Ð°Ñ‚Ñ‹Ð²Ð°Ñ‚ÑŒ",
      earn_desc: "ÐŸÑ€Ð¸ÑÐ¾ÐµÐ´Ð¸Ð½ÑÐ¹ÑÑ Ðº Ñ‚Ñ‹ÑÑÑ‡Ð°Ð¼ Ñ‚Ñ€ÐµÐ¹Ð´ÐµÑ€Ð¾Ð² Ð¸ Ð½Ð°Ñ‡Ð½Ð¸ Ð¿Ñ€Ð¸Ð±Ñ‹Ð»ÑŒ",
      profit: "ÐŸÑ€Ð¸Ð±Ñ‹Ð»ÑŒ: Ð´Ð¾ 95%",
      speed: "Ð¡ÐºÐ¾Ñ€Ð¾ÑÑ‚ÑŒ: 1â€“15 Ð¼Ð¸Ð½.",
      startTrading: "Ð¢Ð¾Ñ€Ð³Ð¾Ð²Ð°Ñ‚ÑŒ âž¡",
      reg_title: "Ð ÐµÐ³Ð¸ÑÑ‚Ñ€Ð°Ñ†Ð¸Ñ",
      reg_desc: "Ð—Ð°Ñ€ÐµÐ³Ð¸ÑÑ‚Ñ€Ð¸Ñ€ÑƒÐ¹ÑÑ Ñƒ Ð½Ð°Ð´ÐµÐ¶Ð½Ð¾Ð³Ð¾ Ð±Ñ€Ð¾ÐºÐµÑ€Ð°, Ñ‡Ñ‚Ð¾Ð±Ñ‹ Ð¿Ð¾Ð»ÑƒÑ‡Ð°Ñ‚ÑŒ ÑÐ¸Ð³Ð½Ð°Ð»Ñ‹:",
      reg_li1: "âœ… Ð›Ð¸Ñ†ÐµÐ½Ð·Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð½Ñ‹Ð¹ Ð±Ñ€Ð¾ÐºÐµÑ€",
      reg_li2: "âš¡ Ð‘Ñ‹ÑÑ‚Ñ€Ñ‹Ðµ Ð²Ñ‹Ð¿Ð»Ð°Ñ‚Ñ‹",
      reg_li3: "ðŸ’µ ÐœÐ¸Ð½. Ð´ÐµÐ¿Ð¾Ð·Ð¸Ñ‚ 10$",
      registerBtn: "Ð ÐµÐ³Ð¸ÑÑ‚Ñ€Ð°Ñ†Ð¸Ñ âž¡",
      after_reg_title: "ÐšÐ»Ð°ÑÑÐ½Ð¾! ðŸš€",
      after_reg_desc: "Ð¢ÐµÐ¿ÐµÑ€ÑŒ ÑÐ´ÐµÐ»Ð°Ð¹ Ð´ÐµÐ¿Ð¾Ð·Ð¸Ñ‚. Ð¯ Ð¿Ñ€Ð¾Ð²ÐµÑ€ÑŽ ðŸ˜‰",
      after_dep_title: "Ð¡ÑƒÐ¿ÐµÑ€! ðŸŽ‰",
      after_dep_desc: "Ð¢Ð²Ð¾Ð¹ Ð´ÐµÐ¿Ð¾Ð·Ð¸Ñ‚ Ð·Ð°Ñ‡Ð¸ÑÐ»ÐµÐ½.",
      after_dep_tip: "Ð—Ð° 5â€“10 ÑÐ¸Ð³Ð½Ð°Ð»Ð¾Ð² Ð¼Ð¾Ð¶Ð½Ð¾ ÑÐ´ÐµÐ»Ð°Ñ‚ÑŒ Ã—3.3 Ð¾Ñ‚ Ñ‚Ð¾Ñ‡ÐºÐ¸ Ð",
      after_dep_tip2: "ÐÐµ Ð±Ð¾Ð¹ÑÑ Ð¼Ð¸Ð½ÑƒÑÐ¾Ð² â€” Ð² Ð´Ð¾Ð»Ð³Ð¾ÑÑ€Ð¾ÐºÐµ Ð·Ð°Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÐµÑˆÑŒ!",
      vipBtn: "ðŸ”¥ VIP Ð¡Ð¸Ð³Ð½Ð°Ð»",
      vip_info: "VIP ÑÐ¸Ð³Ð½Ð°Ð»Ñ‹ â€” ÑÐ°Ð¼Ñ‹Ðµ Ð½Ð°Ð´Ñ‘Ð¶Ð½Ñ‹Ðµ.",
      simpleBtn: "âš¡ ÐŸÑ€Ð¾ÑÑ‚Ð¾Ð¹ ÑÐ¸Ð³Ð½Ð°Ð»",
      simple_info: "Ð£ Ñ‚ÐµÐ±Ñ Ð±ÑƒÐ´ÐµÑ‚ 30 ÑÐµÐºÑƒÐ½Ð´. ÐŸÑ€Ð¸ÑˆÐ»ÑŽ Ð¿Ð°Ñ€Ñƒ Ð¸ Ð½Ð°Ð¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ðµ.",
      vip_in_progress: "VIP Ñ€Ð°Ð·Ð´ÐµÐ» Ð² Ñ€Ð°Ð·Ñ€Ð°Ð±Ð¾Ñ‚ÐºÐµ ðŸ› ",
      simple_search: "Ð˜Ñ‰Ñƒ ÑÐ¸Ð³Ð½Ð°Ð» â³",
      simple_prepare: "ÐŸÐ¾Ð´Ð³Ð¾Ñ‚Ð¾Ð²ÑŒÑÑ Ðº ÑÐ´ÐµÐ»ÐºÐµ!"
    }
  };

  const lang = "{{ lang }}"; // Flask Ð¿Ð¾Ð´ÑÑ‚Ð°Ð²Ð¸Ñ‚ ru/en
  function t(key){ return TEXTS[lang][key] || key; }

  function fillTexts(){
    for (const id in TEXTS[lang]) {
      if (document.getElementById(id)) document.getElementById(id).innerText = t(id);
    }
  }

  function nextPage(id){
    document.querySelectorAll('.page').forEach(p=>p.classList.remove('active'));
    document.getElementById(typeof id==="number" ? "page"+id : id).classList.add('active');
  }

  function vipSignal(){ nextPage("vipPage"); }
  function simpleSignal(){ nextPage("simpleSignalPage"); }

  async function checkUserData(){
    const tg = window.Telegram.WebApp;
    const chatId = tg.initDataUnsafe.user?.id;
    if (!chatId) return;
    const res = await fetch(`/user/${chatId}/data`);
    const data = await res.json();
    if (data.is_registered){
      nextPage("afterReg");
      const dep = data.events.find(ev => ev[0]==="dep" || ev[0]==="FTD");
      if (dep){ 
        nextPage("afterDep");
        const sum = dep[1];
        document.getElementById("depositPoint").innerText = 
          (lang==="ru" ? "Ð¢Ð¾Ñ‡ÐºÐ° A â€” $" : "Point A â€” $") + sum;
      }
    }
  }

  fillTexts();
  checkUserData();
  </script>
</body>
</html>
